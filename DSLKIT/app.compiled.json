{
  "mainScreen": "profileScreen",
  "context": {
    "currentTheme": "light",
    "profileScreenBarTitle": "Edite-me",
    "profileTitle": "Perfil Inicial",
    "style": {
      "light": {
        "backgroundColor": "#FFFFFF",
        "primaryColor": "#007AFF",
        "textColor": "#000000",
        "secondaryTextColor": "#666666"
      },
      "dark": {
        "backgroundColor": "#000000",
        "primaryColor": "#0A84FF",
        "textColor": "#FFFFFF",
        "secondaryTextColor": "#CCCCCC"
      }
    },
    "backgroundColorVar": "#FFFFFF",
    "isDarkModeOn": false,
    "environmentColorScheme": { "var": "currentTheme" }
  },
  "screens": [
    {
      "type": "screen",
      "id": "profileScreen",
      "navigationBar": {
        "title": { "var": "profileTitle" },
        "displayMode": "large",
        "backgroundColor": { "var": "style[currentTheme].backgroundColor" },
        "foregroundColor": { "var": "style[currentTheme].textColor" },
        "toolbarScheme": { "var": "currentTheme" },
        "trailingButton": {
          "label": "Mudar Título",
          "onTap": {
            "set": {
              "var": "profileTitle",
              "value": "Título Alterado!"
            }
          }
        }
      },
      "body": [
        {
          "type": "vstack",
          "alignment": "center",
          "spacing": 4,
          "modifiers": [
            {
              "frame": {
                "maxWidth": ".infinity",
                "maxHeight": ".infinity"
              }
            },
            {
              "ignoresSafeArea": true
            },
            {
              "background": { "var": "style[currentTheme].backgroundColor" }
            }
          ],
          "children": [
            {
              "type": "image",
              "url": "https://i.pravatar.cc/150?u=bruno",
              "modifiers": [
                  {
                      "placeholder": {
                        "background": { "var": "style[currentTheme].secondaryTextColor" }
                      }
                  },
                {
                  "resizable": true
                },
                {
                  "scaledToFit": true
                },
                {
                  "cornerRadius": 60
                },
                {
                  "frame": {
                    "width": 100,
                    "height": 100
                  }
                }
              ]
            },
            {
              "type": "text",
              "value": "Bruno Martins",
              "modifiers": [
                {
                  "font": {
                    "style": "title",
                    "weight": "bold"
                  }
                },
                {
                  "foreground": { "var": "style[currentTheme].textColor" }
                }
              ]
            },
            {
              "type": "text",
              "value": "Desenvolvedor de apps bilionário",
              "modifiers": [
                {
                  "font": {
                    "style": "subheadline"
                  }
                },
                {
                  "foreground": { "var": "style[currentTheme].secondaryTextColor" }
                }
              ]
            },
            {
              "type": "divider",
              "modifiers": [
                {
                  "padding": {
                    "top": 20,
                    "bottom": 20
                  }
                }
              ]
            },
            {
              "type": "toggle",
              "var": "isDarkModeOn",
              "label": "Modo Escuro",
              "modifiers": [
                {
                   "padding": { "leading": 30, "trailing": 30 }
                },
                {
                  "foreground": { "var": "style[currentTheme].textColor" }
                },
                { "tint":  "green" }
               ],
              "onChange": {
                "if": {
                   "condition": { "var": "isDarkModeOn" }, 
                   "then": [ 
                     { "set": { "var": "currentTheme", "value": "dark" } },
                     { "set": { "var": "environmentColorScheme", "value": "dark" } }
                   ],
                   "else": [
                     { "set": { "var": "currentTheme", "value": "light" } },
                     { "set": { "var": "environmentColorScheme", "value": "light" } }
                   ]
                 }
              }
            },
            {
              "type": "toggle",
              "var": "advancedOptionsOn",
              "label": "Opções Avançadas",
              "modifiers": [
                 { "padding": { "top": 5, "leading": 30, "trailing": 30 } },
                 { "opacity": { "var": "advancedOpacity" } },
                 { "disabled": { "var": "isAdvancedDisabled" } },
                 { "frame": { "maxWidth": ".infinity" } },
                 {
                   "foreground": { "var": "style[currentTheme].textColor" }
                 },
                 { "tint":  "green" }
              ],
              "onChange": {
                 "if": {
                   "condition": {"Operator.eq": [{ "var": "advancedOpacity" }, 1.0]},
                   "then": {"set": {"var": "advancedOpacity", "value": 0.5}},
                   "else": {"set": {"var": "advancedOpacity", "value": 1.0}}
                 }
              }
            },
            {
              "type": "vstack",
              "spacing": 0,
              "modifiers": [
                {
                  "padding": {
                    "top": 20,
                    "leading": 30,
                    "trailing": 30
                  }
                }
              ],
              "children": [
                {
                  "type": "button",
                  "children": [
                    {
                      "type": "text",
                      "value": "Editar Perfil",
                      "modifiers": [
                        { "foreground": { "var": "style[currentTheme].backgroundColor" } }
                      ]
                    }
                  ],
                  "modifiers": [
                    {
                      "frame": {
                        "maxWidth": ".infinity"
                      }
                    },
                    {
                      "padding": 14
                    },
                    { "background": { "var": "style[currentTheme].primaryColor" } },
                    { "cornerRadius": 20 }
                  ]
                },
                {
                  "type": "button",
                  "title": "Configurações",
                  "onTap": {
                    "navigate": "settingsScreen"
                  },
                  "modifiers": [
                    {
                      "padding": 14
                    },
                    {
                      "frame": {
                        "maxWidth": ".infinity"
                      }
                    },
                    { "foreground": { "var": "style[currentTheme].primaryColor" } }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "type": "screen",
      "id": "settingsScreen",
      "navigationBar": {
        "title": "Configurações",
         "displayMode": "large",
         "backgroundColor": { "var": "style[currentTheme].backgroundColor" },
         "foregroundColor": { "var": "style[currentTheme].textColor" }
      },
      "body": [
        {
          "type": "vstack",
          "alignment": "center",
          "modifiers": [
            {
              "frame": {
                "maxWidth": ".infinity",
                "maxHeight": ".infinity"
              }
            },
            {
              "ignoresSafeArea": true
            },
            {
              "background": { "var": "style[currentTheme].backgroundColor" }
            }
          ],
          "children": [
            {
              "type": "text",
              "value": "Esta é a Tela de Configurações",
              "modifiers": [
                { "padding": 20 },
                { "foreground": { "var": "style[currentTheme].textColor" } }
              ]
            }
          ]
        }
      ]
    }
  ]
}
